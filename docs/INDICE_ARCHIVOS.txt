================================================================================
    CLIMATOT ALMACÃ‰N - ÃNDICE DE ARCHIVOS Y RESUMEN DE FUNCIONES
================================================================================

ğŸ“ DIRECTORIO RAÃZ: ClimatotAlmacen/
================================================================================

ARCHIVOS PRINCIPALES:
--------------------
âœ“ app.py                          (406 lÃ­neas) - AplicaciÃ³n principal
âœ“ init_db.py                      (188 lÃ­neas) - InicializaciÃ³n BD
âœ“ db_utils.py                     (257 lÃ­neas) - Utilidades BD
âœ“ estilos.py                      (233 lÃ­neas) - Estilos visuales
âœ“ idle_manager.py                 (200 lÃ­neas) - Gestor inactividad
âœ“ buscador_articulos.py           (640 lÃ­neas) - BÃºsqueda artÃ­culos
âœ“ widgets_personalizados.py       (290 lÃ­neas) - Widgets custom
âœ“ ui_common.py                    (48 lÃ­neas)  - Componentes UI comunes
âœ“ config_utils.py                 (152 lÃ­neas) - ConfiguraciÃ³n
âœ“ actualizar_bd_inventario.py     (85 lÃ­neas)  - Script BD inventarios

VENTANAS OPERATIVAS:
-------------------
âœ“ ventana_recepcion.py            (580 lÃ­neas) - RecepciÃ³n material
âœ“ ventana_movimientos.py          (560 lÃ­neas) - Movimientos stock
âœ“ ventana_imputacion.py           (500 lÃ­neas) - ImputaciÃ³n a OT
âœ“ ventana_devolucion.py           (445 lÃ­neas) - Devoluciones
âœ“ ventana_material_perdido.py     (420 lÃ­neas) - Material perdido
âœ“ ventana_inventario.py           (1050 lÃ­neas) - Inventarios fÃ­sicos

VENTANAS DE CONSULTA:
--------------------
âœ“ ventana_stock.py                (410 lÃ­neas) - Consulta de stock
âœ“ ventana_historico.py            (475 lÃ­neas) - HistÃ³rico movimientos
âœ“ ventana_ficha_articulo.py       (785 lÃ­neas) - Ficha artÃ­culo

VENTANAS MAESTROS:
-----------------
âœ“ ventana_articulos.py            (720 lÃ­neas) - CRUD artÃ­culos
âœ“ ventana_proveedores.py          (380 lÃ­neas) - CRUD proveedores
âœ“ ventana_operarios.py            (420 lÃ­neas) - CRUD operarios
âœ“ ventana_familias.py             (330 lÃ­neas) - CRUD familias
âœ“ ventana_ubicaciones.py          (340 lÃ­neas) - CRUD ubicaciones

BASE DE DATOS:
-------------
âœ“ db/almacen.db                   (160 KB)    - Base datos SQLite
âœ“ db/schema.sql                   (193 lÃ­neas) - Esquema BD

CONFIGURACIÃ“N:
-------------
âœ“ config/app.ini                  (3 lÃ­neas)   - Config aplicaciÃ³n
âœ“ requirements.txt                (16 lÃ­neas)  - Dependencias Python

================================================================================
    FUNCIONES PRINCIPALES POR ARCHIVO
================================================================================

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“„ app.py
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
CLASES:
  â€¢ LoginWindow              - Ventana de inicio de sesiÃ³n
  â€¢ MainMenuWindow           - MenÃº principal de la aplicaciÃ³n
  â€¢ MenuInformes             - SubmenÃº de informes y consultas
  â€¢ MaestrosWindow           - SubmenÃº de gestiÃ³n de maestros

FUNCIONES:
  â€¢ main()                   - Punto de entrada de la aplicaciÃ³n
  â€¢ login()                  - Procesa el login del usuario
  â€¢ logout()                 - Cierra sesiÃ³n manualmente
  â€¢ abrir_recepcion()        - Abre ventana de recepciÃ³n
  â€¢ abrir_movimientos()      - Abre ventana de movimientos
  â€¢ abrir_imputacion()       - Abre ventana de imputaciÃ³n
  â€¢ abrir_maestros()         - Abre ventana de maestros
  â€¢ abrir_info_menu()        - Abre submenÃº de informes
  
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“„ db_utils.py
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
FUNCIONES:
  â€¢ get_con()                - Obtiene conexiÃ³n SQLite
  â€¢ log_err(msg)             - Registra errores en log
  â€¢ hash_pwd(password)       - Genera hash SHA256 de contraseÃ±a
  â€¢ today_str()              - Fecha actual en formato YYYY-MM-DD
  â€¢ parse_date(fecha_str)    - Valida fecha
  â€¢ timestamp_str()          - Timestamp para archivos
  â€¢ validar_stock_disponible() - Verifica stock suficiente
  â€¢ obtener_stock_articulo() - Calcula stock actual
  â€¢ buscar_articulo_por_ean() - BÃºsqueda por cÃ³digo de barras
  â€¢ obtener_nombre_almacen() - Nombre de almacÃ©n por ID
  â€¢ obtener_nombre_articulo() - Nombre de artÃ­culo por ID
  â€¢ verificar_bd()           - Verifica BD existe y funciona

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“„ idle_manager.py
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
CLASE:
  â€¢ IdleManager (Singleton)  - Gestor de inactividad del usuario

MÃ‰TODOS:
  â€¢ start()                  - Inicia monitoreo de inactividad
  â€¢ stop()                   - Detiene monitoreo
  â€¢ reset_timer()            - Reinicia contador de inactividad
  â€¢ check_inactivity()       - Verifica tiempo inactivo
  â€¢ logout_user()            - Cierra sesiÃ³n automÃ¡ticamente

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“„ buscador_articulos.py
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
CLASE:
  â€¢ BuscadorArticulos        - DiÃ¡logo de bÃºsqueda avanzada

MÃ‰TODOS:
  â€¢ setupUI()                - Configura interfaz
  â€¢ buscar()                 - Ejecuta bÃºsqueda con filtros
  â€¢ seleccionar_articulo()   - Selecciona artÃ­culo de tabla
  â€¢ cargar_familias()        - Carga combos de familias
  â€¢ cargar_proveedores()     - Carga combos de proveedores

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“„ ventana_recepcion.py
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
CLASE:
  â€¢ VentanaRecepcion         - RecepciÃ³n de material de proveedores

MÃ‰TODOS PRINCIPALES:
  â€¢ setupUI()                - Configura interfaz
  â€¢ cargar_combos()          - Carga proveedores y almacenes
  â€¢ buscar_articulo_ean()    - BÃºsqueda por cÃ³digo de barras
  â€¢ buscar_articulo_avanzado() - Abre buscador avanzado
  â€¢ agregar_articulo()       - AÃ±ade artÃ­culo a la tabla
  â€¢ eliminar_articulo()      - Elimina artÃ­culo de la tabla
  â€¢ guardar_recepcion()      - Guarda recepciÃ³n completa en BD
  â€¢ validar_datos()          - Valida datos antes de guardar
  â€¢ limpiar_formulario()     - Limpia campos del formulario

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“„ ventana_movimientos.py
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
CLASE:
  â€¢ VentanaMovimientos       - Traspasos entre almacenes

MÃ‰TODOS PRINCIPALES:
  â€¢ setupUI()                - Configura interfaz
  â€¢ cargar_almacenes()       - Carga combos de almacenes
  â€¢ buscar_articulo()        - BÃºsqueda de artÃ­culo
  â€¢ verificar_stock()        - Verifica stock en origen
  â€¢ agregar_linea()          - AÃ±ade lÃ­nea a la tabla
  â€¢ guardar_movimiento()     - Guarda traspaso en BD
  â€¢ validar_datos()          - Valida datos antes de guardar

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“„ ventana_imputacion.py
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
CLASE:
  â€¢ VentanaImputacion        - ImputaciÃ³n de material a OT

MÃ‰TODOS PRINCIPALES:
  â€¢ setupUI()                - Configura interfaz
  â€¢ cargar_combos()          - Carga operarios y almacenes
  â€¢ buscar_articulo()        - BÃºsqueda de artÃ­culo
  â€¢ verificar_stock()        - Verifica stock disponible
  â€¢ agregar_linea()          - AÃ±ade lÃ­nea a la tabla
  â€¢ guardar_imputacion()     - Guarda imputaciÃ³n en BD
  â€¢ validar_ot()             - Valida nÃºmero de OT

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“„ ventana_inventario.py
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
CLASE:
  â€¢ VentanaInventario        - GestiÃ³n de inventarios fÃ­sicos

MÃ‰TODOS PRINCIPALES:
  â€¢ setupUI()                - Configura interfaz
  â€¢ nuevo_inventario()       - Crea nuevo inventario
  â€¢ cargar_articulos()       - Carga artÃ­culos del almacÃ©n
  â€¢ calcular_stock_teorico() - Calcula stock segÃºn sistema
  â€¢ guardar_conteo()         - Guarda stock contado
  â€¢ calcular_diferencias()   - Calcula diferencias (contado-teÃ³rico)
  â€¢ finalizar_inventario()   - Finaliza y genera ajustes
  â€¢ generar_movimientos_ajuste() - Crea movimientos de ajuste
  â€¢ exportar_excel()         - Exporta inventario a Excel

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“„ ventana_stock.py
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
CLASE:
  â€¢ VentanaStock             - Consulta de stock actual

MÃ‰TODOS PRINCIPALES:
  â€¢ setupUI()                - Configura interfaz
  â€¢ cargar_combos()          - Carga filtros
  â€¢ consultar_stock()        - Consulta stock con filtros
  â€¢ aplicar_filtros()        - Aplica filtros a la consulta
  â€¢ exportar_excel()         - Exporta resultados a Excel
  â€¢ resaltar_stock_bajo()    - Resalta artÃ­culos con stock bajo

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“„ ventana_historico.py
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
CLASE:
  â€¢ VentanaHistorico         - HistÃ³rico de movimientos

MÃ‰TODOS PRINCIPALES:
  â€¢ setupUI()                - Configura interfaz
  â€¢ cargar_filtros()         - Carga combos de filtros
  â€¢ consultar_historico()    - Consulta con filtros
  â€¢ aplicar_filtros()        - Aplica filtros mÃºltiples
  â€¢ ver_detalle()            - Muestra detalle de movimiento
  â€¢ exportar_excel()         - Exporta a Excel

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“„ ventana_articulos.py
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
CLASE:
  â€¢ VentanaArticulos         - CRUD de artÃ­culos

MÃ‰TODOS PRINCIPALES:
  â€¢ setupUI()                - Configura interfaz
  â€¢ cargar_combos()          - Carga familias, proveedores, etc
  â€¢ cargar_tabla()           - Carga artÃ­culos en tabla
  â€¢ nuevo_articulo()         - Prepara formulario para nuevo
  â€¢ guardar_articulo()       - Guarda artÃ­culo (nuevo/editar)
  â€¢ editar_articulo()        - Carga artÃ­culo para editar
  â€¢ eliminar_articulo()      - Marca como inactivo
  â€¢ buscar_articulos()       - BÃºsqueda con filtros
  â€¢ validar_datos()          - Valida campos antes de guardar

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

================================================================================
    TABLAS DE LA BASE DE DATOS
================================================================================

USUARIOS Y SESIONES:
  â€¢ usuarios               - Usuarios del sistema
  â€¢ sesiones               - Sesiones activas

MAESTROS:
  â€¢ proveedores            - Proveedores de material
  â€¢ operarios              - Operarios/tÃ©cnicos
  â€¢ familias               - Familias de artÃ­culos
  â€¢ ubicaciones            - Ubicaciones en almacÃ©n
  â€¢ almacenes              - Almacenes y furgonetas

ARTÃCULOS:
  â€¢ articulos              - Maestro de artÃ­culos (â­ tabla central)

MOVIMIENTOS:
  â€¢ movimientos            - Movimientos de stock (â­ tabla central)
  â€¢ albaranes              - Albaranes de proveedores

INVENTARIOS:
  â€¢ inventarios            - Cabecera de inventarios fÃ­sicos
  â€¢ inventario_detalle     - Detalle de inventarios

ASIGNACIONES:
  â€¢ asignaciones_furgoneta - AsignaciÃ³n furgoneta-operario

VISTAS:
  â€¢ vw_stock               - Stock por almacÃ©n y artÃ­culo
  â€¢ vw_stock_total         - Stock total por artÃ­culo

================================================================================
    TIPOS DE MOVIMIENTO
================================================================================

  ENTRADA      â†’ RecepciÃ³n de proveedor (destino_id obligatorio)
  TRASPASO     â†’ Movimiento entre almacenes (origen_id y destino_id)
  IMPUTACION   â†’ Consumo en obra/OT (origen_id y ot obligatorios)
  PERDIDA      â†’ Material perdido/daÃ±ado (origen_id obligatorio)
  DEVOLUCION   â†’ DevoluciÃ³n a proveedor (origen_id obligatorio)

================================================================================
    DEPENDENCIAS (requirements.txt)
================================================================================

  â€¢ PySide6               6.10.0    - Framework Qt para Python
  â€¢ pandas                2.3.3     - AnÃ¡lisis de datos
  â€¢ openpyxl              3.1.5     - ExportaciÃ³n a Excel
  â€¢ QtAwesome             1.4.0     - Iconos para Qt
  â€¢ numpy                 2.3.4     - Operaciones numÃ©ricas
  â€¢ python-dateutil       2.9.0     - Manejo de fechas

================================================================================
    ESTADÃSTICAS DEL PROYECTO
================================================================================

  Total archivos Python:      24
  Total lÃ­neas de cÃ³digo:     ~8,500
  Ventanas del sistema:       18
  Tablas en BD:               13
  Vistas en BD:               2
  Ãndices en BD:              12

================================================================================
